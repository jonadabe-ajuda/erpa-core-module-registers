package br.com.erpa.application.command;

import br.com.erpa.application.dto.ProductsDTO;
import br.com.erpa.domain.entity.ProductsEntity;
import br.com.erpa.domain.repository.RepositoryProducts;

/**
 * Recover customers
 *  
 * @author jonadabe
 * @param  methods Constructor RepositoryCustomer
 * @param  methods execute cpf
 * @return CustomerDTO
 */
public class RecoverCustomerCPF {
	
	private final RepositoryProducts repositoryCustomer;

	public RecoverCustomerCPF(RepositoryProducts repositoryCustomer) {
		this.repositoryCustomer = repositoryCustomer;
	}
	
	public ProductsDTO execute ( String cpf ) {
		
		ProductsEntity  customer = repositoryCustomer.findByCustomer(cpf);
		
		if ( customer != null ) {
			ProductsDTO customerDTO = new ProductsDTO(customer.getName(), 
													 customer.getCpf().getNumber(),
													 customer.getAddress().getStreet(),
													 customer.getAddress().getNumber(), 
													 customer.getAddress().getDistrict(),
													 customer.getAddress().getCity(), 
													 customer.getAddress().getState(),
													 customer.getAddress().getZipCode());
			return customerDTO;
		} else {
			return new ProductsDTO();
		}
		 
	}	
		

}
